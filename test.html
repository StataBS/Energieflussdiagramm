<!DOCTYPE html>
<html>

  <head>

    <script src="script/d3.min.js"></script>
    <!--script src="https://d3js.org/d3.v4.min.js"></script-->

  </head>

  <body>
    <button type="button" class="btn btn-primary">Change Data</button>
    <div id="chart"></div>
    <script>
      /* global d3  */
      
      d3.selectAll(".btn").on("click", changeData);
      
      var data=[1];
      var svg = d3.select("#chart").append("svg").append("g");
      
      render(data);
      
      function changeData(){
        data = data.concat(data);
        return render(data);
      }

    
      function render(data){
        var nodes = svg.selectAll("g.node")
          .data(data);

        // update
        nodes
        .transition()
          .attr("transform", function(d, i){return "translate(" + 50 + "," + 15 * i + ")";})
        ;
  
        
        // enter
        nodes.enter()
          .append("g")
            .attr("class", "node")
            .attr("transform", function(d, i){return "translate(" + 1 + "," + 15 * i + ")";})
            .append("rect")
              .attr("height", 10)
              .attr("width", 10)
              .style("fill", "black")
        ;
        /*
        console.log(nodes);
        console.log(nodes.size());
        console.log(nodes.enter());
        console.log(nodes.enter().size());
        */
        

        
      }




    </script>
  </body>

</html>